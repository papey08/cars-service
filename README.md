# cars-service

## Описание

Данный проект представляет собой сервис для управления каталогом автомобилей.

### Поддерживаемые методы

* получение данных об автомобиле по id
* получение списка автомобилей с фильтрацией и пагинацией
* изменение данных об автомобиле по id
* удаление данных об автомобиле по id
* добавление новых автомобилей

Подробное описание всех методов доступно в swagger-документации по адресу 
[http://localhost:8080/swagger/index.html](http://localhost:8080/swagger/index.html)

## Бизнес-логика

### Добавление данных о новых автомобилях

* на вход подаётся массив регистрационных номеров новых автомобилей
* для каждого номера выполняется запрос во внешний API с целью получить все 
данные автомобиля с этим номером
* полученные данные добавляются в базу данных PostgreSQL
* при повторном добавлении номера сервер возвращает ошибку

### Получение данных

* можно получить данные об автомобиле с помощью id, который возвращается при 
успешном добавлении этого автомобиля
* можно получить список автомобилей, поддерживается пагинация (limit/offset) и 
фильтрация по следующим характеристикам:
  * регистрационный номер
  * марка
  * модель
  * ФИО владельца

### Изменение данных

* поддерживается операция удаления данных об автомобиле с помощью id
* поддерживается операция изменения любых данных автомобиля по id, при этом 
нельзя задать автомобилю регистрационный номер, который уже сохранён в базе 
данных, а год производства должен быть между 1900 и текущим

## Инструкция по запуску

### Локально

При необходимости внести изменения в 
[конфигурационный файл](./config/local/.env), затем выполнить команду

```shell
go mod download && go run cmd/server/main.go
```

### С помощью Docker

Задать адрес внешнего API в
[конфигурационном файле](./config/docker/.env), затем выполнить команду

```shell
make
```
